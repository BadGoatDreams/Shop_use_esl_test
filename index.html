<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Classroom Market Roleplay</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #f0f2f5;
            margin: 0;
            padding: 20px;
            text-align: center;
        }
        .container {
            max-width: 600px;
            margin: 0 auto;
            background: white;
            padding: 20px;
            border-radius: 15px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }
        h1 { color: #2c3e50; }
        h2 { color: #34495e; border-bottom: 2px solid #eee; padding-bottom: 10px;}
        
        button {
            background-color: #3498db;
            color: white;
            border: none;
            padding: 15px 25px;
            margin: 10px;
            font-size: 20px; /* Larger for emojis */
            border-radius: 8px;
            cursor: pointer;
            width: 85%;
            transition: background 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }
        button:hover { background-color: #2980b9; }
        button.secondary { background-color: #95a5a6; }
        button.danger { background-color: #e74c3c; }
        
        .hidden { display: none; }
        
        .role-card, .buyer-card {
            text-align: left;
            background: #ecf0f1;
            padding: 15px;
            border-radius: 8px;
            margin-top: 20px;
        }
        
        .price-list {
            list-style: none;
            padding: 0;
        }
        .price-list li {
            background: white;
            margin: 5px 0;
            padding: 15px;
            border-radius: 8px;
            display: flex;
            justify-content: space-between;
            border: 1px solid #bdc3c7;
            font-size: 18px;
        }
        
        .wallet-box {
            background: #2ecc71;
            color: white;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            text-align: center;
            box-shadow: 0 4px 0 #27ae60;
        }
        .wallet-amount { font-size: 40px; font-weight: bold; margin-top: 5px;}
        
        .control-panel {
            display: flex;
            justify-content: center;
            gap: 5px;
            flex-wrap: wrap;
        }
        .control-btn { width: auto; padding: 10px 15px; font-size: 16px; }

        .personality {
            background: #fff3cd;
            color: #856404;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 15px;
            font-style: italic;
            border-left: 5px solid #ffeeba;
        }
        ul li { margin-bottom: 5px; font-size: 18px; }
    </style>
</head>
<body>

<div class="container" id="main-menu">
    <h1>ğŸ›’ Market Day Roleplay</h1>
    <p>Choose your role to begin:</p>
    <center>
        <button onclick="startBuyer()">ğŸ›ï¸ I am a BUYER</button>
        <button onclick="showSellerMenu()">ğŸª I am a SELLER</button>
    </center>
</div>

<div class="container hidden" id="buyer-section">
    <h2>ğŸ’ Buyer Dashboard</h2>
    
    <div class="buyer-card">
        <h3>ğŸ¯ Your Mission:</h3>
        <p id="mission-text" style="font-size: 1.2em; font-weight: bold;">Loading...</p>
        <h4>ğŸ“ Shopping List:</h4>
        <ul id="shopping-list"></ul>
    </div>

    <div class="wallet-box">
        <div>ğŸ’° Current Wallet</div>
        <div class="wallet-amount">$<span id="wallet-val">0</span></div>
    </div>

    <div class="control-panel">
        <button class="danger control-btn" onclick="changeMoney(-1)">ğŸ’¸ Pay $1</button>
        <button class="danger control-btn" onclick="changeMoney(-5)">ğŸ’¸ Pay $5</button>
        <button class="danger control-btn" onclick="changeMoney(-10)">ğŸ’¸ Pay $10</button>
    </div>
    <div class="control-panel">
        <button class="secondary control-btn" onclick="changeMoney(1)">â• Get Change ($1)</button>
        <button class="secondary control-btn" onclick="changeMoney(5)">â• Get Change ($5)</button>
    </div>

    <br>
    <center>
        <button class="secondary" onclick="resetApp()">ğŸ”„ Quit / Reset</button>
    </center>
</div>

<div class="container hidden" id="seller-menu">
    <h2>ğŸ˜ï¸ Select Your Shop</h2>
    <center>
        <div id="seller-buttons"></div>
        <button class="secondary" onclick="resetApp()">â¬…ï¸ Back</button>
    </center>
</div>

<div class="container hidden" id="seller-dashboard">
    <h2 id="shop-title">Shop Name</h2>
    <div class="personality">
        <strong>ğŸ­ Acting Tip:</strong> <span id="shop-personality"></span>
    </div>
    
    <h3>ğŸ·ï¸ Price List</h3>
    <ul class="price-list" id="shop-items"></ul>
    
    <center>
        <button class="secondary" onclick="showSellerMenu()">ğŸ”„ Choose Different Shop</button>
    </center>
</div>

<script>
    // --- DATA ---
    const buyers = [
        {
            mission: "ğŸ½ï¸ Host a Fancy Dinner Party",
            list: ["ğŸ¥© Steak (Butcher)", "ğŸ¥” Potatoes (Grocer)", "ğŸ· Wine (General/Liquor)", "ğŸ’ Flowers (Florist)"],
            budget: 60
        },
        {
            mission: "ğŸ› ï¸ Fix up the House",
            list: ["ğŸ”¨ Hammer (Hardware)", "ğŸ”© Nails (Hardware)", "ğŸ¥ª Lunch Sandwich (Cafe)", "ğŸ§¤ Work Gloves (Hardware)"],
            budget: 45
        },
        {
            mission: "ğŸ¤’ Help a Sick Relative",
            list: ["ğŸ’Š Medicine (Pharmacy)", "ğŸ¥« Soup (Grocer)", "ğŸ“° Magazine (Newsstand)", "ğŸ›Œ Blanket (General Store)"],
            budget: 40
        },
        {
            mission: "ğŸš— Prepare for a Road Trip",
            list: ["ğŸ›¢ï¸ Oil Change (Mechanic)", "ğŸ—ºï¸ Map (Newsstand)", "ğŸ Snacks (Grocer)", "ğŸ•¶ï¸ Sunglasses (Clothing)"],
            budget: 80
        },
        {
            mission: "ğŸ‚ Baking a Birthday Cake",
            list: ["ğŸ¥¡ Flour & Sugar (Grocer)", "ğŸ¥š Eggs (Grocer)", "ğŸ•¯ï¸ Candles (General Store)", "ğŸˆ Decoration (Florist)"],
            budget: 30
        }
    ];

    const sellers = [
        {
            name: "ğŸ Main St. Grocer",
            personality: "Friendly and chatty! ğŸ˜„ Ask about the weather.",
            items: { "ğŸ Apples": "$2/lb", "ğŸ¥” Potatoes": "$3/bag", "ğŸ¥› Milk": "$4", "ğŸ¥« Soup": "$2" }
        },
        {
            name: "ğŸ·ï¸ Discount Grocer",
            personality: "Grumpy ğŸ˜ . In a rush. Wants cash only!",
            items: { "ğŸ Old Apples": "$1/lb", "ğŸ¥š Eggs": "$2", "ğŸ¥¡ Flour": "$3", "ğŸª Snacks": "$1" }
        },
        {
            name: "ğŸ¥© The Butcher",
            personality: "Loud! ğŸ“¢ Shouts about how fresh the meat is!",
            items: { "ğŸ¥© Steak": "$15", "ğŸ— Chicken": "$10", "ğŸŒ­ Sausages": "$8", "ğŸ– Ham": "$12" }
        },
        {
            name: "ğŸ¥– The Baker",
            personality: "Sweet and motherly ğŸ‘µ. Offers free smells.",
            items: { "ğŸ Bread Loaf": "$4", "ğŸ¥ Croissant": "$3", "ğŸ¥§ Pie": "$10", "ğŸ§ Muffins": "$2" }
        },
        {
            name: "ğŸ”¨ Hardware Store",
            personality: "Knowledgeable ğŸ¤“ but speaks very slowly.",
            items: { "ğŸ”¨ Hammer": "$12", "ğŸ”© Nails": "$5", "ğŸ§¤ Gloves": "$8", "ğŸ¨ Paint": "$20" }
        },
        {
            name: "ğŸ”§ The Mechanic",
            personality: "Covered in grease ğŸ›¢ï¸. Wipes hands before shaking.",
            items: { "ğŸ›¢ï¸ Oil Change": "$30", "ğŸš— Tire Check": "$10", "ğŸ’§ Wiper Fluid": "$5", "ğŸ› ï¸ Repairs": "$50" }
        },
        {
            name: "ğŸ‘— Clothing Boutique",
            personality: "Very posh ğŸ’…. Thinks everyone has bad fashion.",
            items: { "ğŸ•¶ï¸ Sunglasses": "$15", "ğŸ‘’ Hat": "$20", "ğŸ§£ Scarf": "$12", "ğŸ‘• T-Shirt": "$25" }
        },
        {
            name: "ğŸ’Š Pharmacy",
            personality: "Professional and serious ğŸ§. Whispers.",
            items: { "ğŸ§ª Cough Syrup": "$8", "ğŸ’Š Vitamins": "$12", "ğŸ¤• Bandages": "$4", "ğŸŒ¡ï¸ Medicine": "$10" }
        },
        {
            name: "ğŸ“° Newsstand",
            personality: "Reads the paper while talking to you. Distracted ğŸ˜’.",
            items: { "ğŸ“° Newspaper": "$2", "ğŸ“– Magazine": "$5", "ğŸ« Candy Bar": "$1", "ğŸ—ºï¸ Map": "$4" }
        },
        {
            name: "â˜• Cafe Owner",
            personality: "Energetic! âš¡ Runs around. High on caffeine.",
            items: { "â˜• Coffee": "$3", "ğŸ¥ª Sandwich": "$8", "ğŸµ Tea": "$2", "ğŸ° Cake Slice": "$4" }
        }
    ];

    // --- LOGIC ---
    let currentWallet = 0;

    function resetApp() {
        document.getElementById('main-menu').classList.remove('hidden');
        document.getElementById('buyer-section').classList.add('hidden');
        document.getElementById('seller-menu').classList.add('hidden');
        document.getElementById('seller-dashboard').classList.add('hidden');
    }

    // BUYER LOGIC
    function startBuyer() {
        const randomTask = buyers[Math.floor(Math.random() * buyers.length)];
        
        document.getElementById('mission-text').innerText = randomTask.mission;
        const listEl = document.getElementById('shopping-list');
        listEl.innerHTML = "";
        randomTask.list.forEach(item => {
            let li = document.createElement('li');
            li.innerText = item;
            listEl.appendChild(li);
        });

        currentWallet = randomTask.budget;
        updateWalletDisplay();

        document.getElementById('main-menu').classList.add('hidden');
        document.getElementById('buyer-section').classList.remove('hidden');
    }

    function changeMoney(amount) {
        if (currentWallet + amount < 0) {
            alert("ğŸš« You don't have enough money!");
            return;
        }
        currentWallet += amount;
        updateWalletDisplay();
    }

    function updateWalletDisplay() {
        document.getElementById('wallet-val').innerText = currentWallet;
    }

    // SELLER LOGIC
    function showSellerMenu() {
        const container = document.getElementById('seller-buttons');
        container.innerHTML = "";
        
        sellers.forEach((shop, index) => {
            let btn = document.createElement('button');
            btn.innerText = shop.name;
            btn.onclick = () => openShop(index);
            container.appendChild(btn);
        });

        document.getElementById('main-menu').classList.add('hidden');
        document.getElementById('seller-dashboard').classList.add('hidden');
        document.getElementById('seller-menu').classList.remove('hidden');
    }

    function openShop(index) {
        const shop = sellers[index];
        document.getElementById('shop-title').innerText = shop.name;
        document.getElementById('shop-personality').innerHTML = shop.personality;
        
        const list = document.getElementById('shop-items');
        list.innerHTML = "";
        
        for (const [item, price] of Object.entries(shop.items)) {
            let li = document.createElement('li');
            li.innerHTML = `<span>${item}</span> <span>${price}</span>`;
            list.appendChild(li);
        }

        document.getElementById('seller-menu').classList.add('hidden');
        document.getElementById('seller-dashboard').classList.remove('hidden');
    }
</script>

</body>
</html>